import{A as f,r as c}from"./index-BHjy7JY1.js";import{a as v}from"./api-DRWUNwWI.js";const y=f("projects",()=>{const p=c([]),l=c(null),o=c(!1),r=c(null),i=c({current_page:1,last_page:1,per_page:12,total:0});return{projects:p,currentProject:l,loading:o,error:r,pagination:i,fetchProjects:async u=>{var t,a,s;o.value=!0,r.value=null;try{const e=await v.getProjects(u);console.log("ðŸ” Projects API Response:",e.data),console.log("ðŸ” First project cover_image_url:",(t=e.data[0])==null?void 0:t.cover_image_url),p.value=e.data,e.meta&&(i.value=e.meta)}catch(e){r.value=((s=(a=e.response)==null?void 0:a.data)==null?void 0:s.message)||"Error al cargar proyectos",console.error("Error fetching projects:",e)}finally{o.value=!1}},fetchProject:async u=>{var t,a,s,e;o.value=!0,r.value=null;try{l.value=await v.getProject(u)}catch(n){((t=n.response)==null?void 0:t.status)===404?r.value="Proyecto no encontrado":((a=n.response)==null?void 0:a.status)===500?r.value="Error del servidor al cargar el proyecto":r.value=((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Error al cargar proyecto",console.error("Error fetching project:",n),l.value=null}finally{o.value=!1}},clearCurrentProject:()=>{l.value=null}}});export{y as u};
