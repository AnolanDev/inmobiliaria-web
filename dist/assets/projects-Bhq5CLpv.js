import{y as v,r as s}from"./index-BlNln_Dy.js";import{a as i}from"./api-DRWUNwWI.js";const h=v("projects",()=>{const u=s([]),c=s(null),t=s(!1),r=s(null),p=s({current_page:1,last_page:1,per_page:12,total:0});return{projects:u,currentProject:c,loading:t,error:r,pagination:p,fetchProjects:async n=>{var a,o;t.value=!0,r.value=null;try{const e=await i.getProjects(n);u.value=e.data,e.meta&&(p.value=e.meta)}catch(e){r.value=((o=(a=e.response)==null?void 0:a.data)==null?void 0:o.message)||"Error al cargar proyectos",console.error("Error fetching projects:",e)}finally{t.value=!1}},fetchProject:async n=>{var a,o,e,f;t.value=!0,r.value=null;try{c.value=await i.getProject(n)}catch(l){((a=l.response)==null?void 0:a.status)===404?r.value="Proyecto no encontrado":((o=l.response)==null?void 0:o.status)===500?r.value="Error del servidor al cargar el proyecto":r.value=((f=(e=l.response)==null?void 0:e.data)==null?void 0:f.message)||"Error al cargar proyecto",console.error("Error fetching project:",l),c.value=null}finally{t.value=!1}},clearCurrentProject:()=>{c.value=null}}});export{h as u};
